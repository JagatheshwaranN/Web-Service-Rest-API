Web Service
===========

What?
=====
Software system designed to support the inter-operable machine-to-machine interaction over a network.

3 Keys
======
1. Designed for machine-to-machine [or Application-to-Application] interaction
2. Should be inter-operable (NOT platform dependent)
3. Should allow communication over a network.

How?
====
How does the data exchange between applications takes place?
The data exchange done via Request and Response mode.

How can we make the web services platform independent?
The important thing for a web service to be independent is, the request and response should also
be platform independent.

2 Popular Formats
=================
1. XML
2. JSON

How does the application X knows the format of Request & Response?
The answer is Service Definition. Every WebService should provide the service definition.
Service Definition takes about,
1. Request/Response Formats
2. Request Structure
3. Response Structure
4. Endpoint

Key Terminologies
=================
1. Request & Response
2. Message Exchange Format
   a. XML & JSON
3. Service Provider / Server
4. Service Consumer / Client
5. Service Definition
6. Transport 
   a. HTTP & MQ

1. Request & Response
=====================
Request - Input / Data sent from Application to WebService.
Response - Output / Data sent back from WebService to Application.

2. Message Exchange Format
==========================
   a. XML & JSON
The Request & Response are sent inform of Messages which is either in XML
or JSON format.

3. Service Provider / Server
============================
Server on which service is hosted.

4. Service Consumer / Client
============================
Application which requests the webservice.

5. Service Definition
=====================
The contract between the Service Provider & Service Consumer.

6. Transport 
============
   a. HTTP & MQ
HTTP - The communication takes place over the web.
MQ - The Service Requester place the request on the (Message) Queue and the Service Provider
would be listening on the Queue. Whenever requests comes in, it takes and proccess it. Create
the response and put it back to the Requester.

WebService Groups
=================
1. SOAP
2. Rest 

SOAP
====
SOAP [Simple Object Access Protocol] - Earlier Abbreviation. But no longer. Its just type of
webservice.

Characteristics
===============
1. Format
	a. SOAP XML Request
	b. SOAP XML Response
2. Transport
	a. SOAP over MQ
	b. SOAP over HTTP
3. Service Definition
	a. WSDL

A WSDL defines the followiings.
1. Endpoint
2. All Operations
3. Request Structure
4. Response Structure

The typical SOAP message has followings parts.
1. SOAP Envelope
2. SOAP Header
3. SOAP Body

Rest [Representational State Transfer]
====
Whenever we develop a RESTful webservices, we always focuses on / thinking about the Resources.
Resource
========
1. A resource has an URI (Uniform Resource Identifier).
2. A resource can have different formats as below.
	a. XML
	b. HTML
	c. JSON
	
Characteristics
===============
1. Data Exchange Format
	a. No Restriction. JSON is popular.
2. Transport
	a. Only HTTP
3. Service Definition
	NO standard. WADL/Swagger..
WADL - Web Application Development Language.

REST vs SOAP [Its not an Apple-to-Apple comparison]
============
1. Restriction vs Architectural Approach
2. Data Exchange Format
3. Service Definition
4. Transport
5. Ease of implementation

Spring Framework
================
1. Tight & Loose Coupling
2. IOC Container
3. Application Context
4. Component Scan
5. Dependency Injection
6. Spring Beans
7. Auto Wiring

Spring Terminologies
====================
@Component
==========
Class managed by Spring Framework

Dependency: SPGameRunner needs SPGameConsole Impl.
	SPGameConsole Impl(Ex: SPMarioGame) is a dependency of SPGameRunner.

ComponentScan
=============
Spring scans the packages. By default, it will take the current package.
We can also provide the packages to scan.
@ComponentScan({"com.qa.base", "com.qa.test"})

Dependency Injection
====================
Identify Beans, their dependencies and wire them together (provides IOC - Inversion of Control)

Spring Beans
============
An object managed by Spring Framework.

IoC Container
=============
Manages the life cycle of beans and dependencies.
Types
=====
1. ApplicationContext (Complex)
2. BeanFactory (Simple Features - Rarely used)

AutoWiring
==========
The process of wiring in dependencies for a Spring Bean.

@Primary - Is used when we have multiple components to give priority to run the component.

Spring Dependency Injection Types
=================================
Constructor Based - Dependencies are set by creating the Bean using its Constructor.
Setter Based - Dependencies are set by calling Setter methods on your beans.
Fields - No Setter / Constructor. Dependency is injected using reflection.

Spring Team recommends Constructor-based injection as dependencies are automatically set
when object is created.

Spring Modules
==============
Spring Framework is divided into modules.
1. Core: IoC Container etc
2. Testing: Mock Objects, Spring MVC Test etc
3. Data Access: Transactions, JDBC, JPA etc
4. Web Servlet: Spring MVC etc
5. Web Reactive: Spring WebFlux etc
6. Integration: JMS etc

Spring Pojects [Spring keeps evolving (REST API > Microservices > Cloud)
==============
Spring Boot: Most popular framework to build microservices.
Spring Cloud: Build cloud native applications.
Spring Data: Integrate the same way with different types of databases: NoSQL and Relational.
Spring Integration: Address challenges with integration with other applications.
Spring Security: Secure you web application or REST API or microservice.

World Before Spring Boot
========================
1. Complex dependency management
2. Complex configurations for Web applications [web.xml].
3. Complex Spring Configurations (Manage of Spring Beans) [Component Scan, View Resolver].
4. Non-functional Requirements - Logging, Error handling, and Monitoring.

SpringBoot Goals
================
1. Helps you build Production Ready apps Quickly.
	a. Build Quickly
		1. Spring Initializr
		2. Spring Boot Starter Projects
		3. Spring Boot Auto Configuration
		4. Spring Boot DevTools
	b. Be Product Ready
		1. Logging
		2. Different Configuration for Different Environments
			Profiles, ConfigurationProperties
		3. Monitoring (Spring Boot Actuator)

Spring Boot Starter Projects
============================
1. I need a lot of frameworks to build application features:
	a. Build a REST API: I need Spring, Spring MVC, Tomcat, JSON conversion..
	b. Write Unit Tests: I need Spring Test, Junit, Mockito,..
2. How can I group them and make it easy to build applications?
	a. Starters: Convenient dependency descriptors for different feature.
3. Spring Boot provides variety of Starter projects:
	a. Web Application & REST API - Spring Boot Starter Web (spring-webmvc,
	spring-web, spring-boot-starter-tomcat, spring-boot-starter-json)
	b. Unit Tests - Spring Boot Starter Test
	c. Talk to Database using JPA - Spring Boot Starter Data JPA
	d. Talk to Database using JDBC - Spring Boot Starter JDBC
	e. Secure your web application or REST API - Spring Boot Starter Security

Spring Boot Auto Configuration
==============================
Need lot of configuration to build Spring app:
-> Component Scan, DispatcherServlet, Data Sources, JSON Conversion..

How can it be Simplified?
=========================
Auto Configuration: Automated configuration for your app.
Decided based on:
	1. Which frameworks are in the Class Path?
	2. What is the existing configuration (Annotations etc)?
Example: Spring Boot Starter Web
1. DispatcherServlet
2. Embedded Servlet Container - Tomcat (EmbeddedWebServerFactoryCustomizerAutoConfiguration)
3. Default Error Pages (ErrorMvcAutoConfiguration)
4. Bean<->JSON (JacksonHttpMessageConvertersConfiguration)

Spring Boot DevTools
====================
1. Increase Developer Productivity
2. Why do you need to restart the server manually for every code change?
	a. Add DevTools dependency to your POM.xml, then for every change 
	server restarts automatically.
3. Remember: For POM.xml dependency changes, you will need to restart
   server manually.
 
Production Ready
================
Managing App. Configuration using Profiles

1. Applications have different environments: Dev, QA. Stage, Prod,..
2. Different environments need different configuration:
	a. Different Databases
	b. Different Web Services
3. How can you provide different configuration for different environments?
	a. Profiles: Environment specific configuration
	
Configuration Properties
=======================
To specify configurations for specific services / endpoints in application.properties.
Creat a config class for the same and have it has POJO style.
Add the below annotations
@ConfigurationProperties(prefix = "currency-service")
@Component
Then create a controller class and invoke the config class.

Simplify Deployment with Spring Boot Embedded Servers
=====================================================
1. How do you deploy your application?
	a. Install Java
	b. Install Web/Application Server [Tomcat/WebSphere/WebLogic etc]
	c. Deploy the application WAR (Web Archive)
		This is the OLD WAR approach
		Complex to setup
2. Embedded Server - Simpler Alternative
	a. Install Java
	b. Run JAR file
	c. Make JAR not WAR
	d. Embedded Server Examples
		1. spring-boot-starter-tomcat
		2. spring-boot-starter-jetty
		3. spring-boot-starter-undertow

Monitoring Apps - Spring Boot Actuator
======================================
1. Monitor and manage your application in your production.
2. Provides a number of endpoints:
	a. beans - Complete list of Spring beans in your app.
	b. health - Application health information
	c. metrics - Application metrics.
	d. mappings - Details around Request Mappings.

Add the Spring Boot Starter Actuator dependency to your POM.xml
Navigate to http://localhost:8080/actuator
By default, it will show health endpoint only.

To have other endpoints, add it in your application.properties

Understanding Spring Boot Vs Spring MVC vs Spring
=================================================
Spring Boot vs Spring MVC vs Spring - What's in it?
1. Spring Framework: Dependency Injection.
	a. @Component, @AutoWired, Component Scan, etc..
	b. Jusr Dependency Injection is NOT sufficient (You need other frameworks to build apps)
		1. Spring Modules and Spring Projects: Extend Spring Eco System
			a. Provide good integration with other frameworks(Hibernate/JPA, JUnit & Mickito for Unit Testing)

2. Spring MVC (Spring Module): Simplify building web apps and REST API
	a. Building web applications with structs was very complex
	b. @Controller, @RestController, @RequestMapping("/endpoint")

3. Spring Boot (Spring Project): Build PRODUCTION-READY apps QUICKLY
	a. Starter Projects - Make it easy to build variety of apps.
	b. Auto Configuration - Eliminate configuration to setup Spring, Spring MVC, and other frameworks!
	c. Enable non-functional requirements:
		1. Actuator: Enables Advanced Monitoring of applications.
		2. Embedded Server: No need for separate application servers!
		3. Logging and Error Handling
		4. Profiles and ConfigurationProperties




	
		


































